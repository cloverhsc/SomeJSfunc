<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Javascript</title>
        <script>
            window.onload = function(){
                console.log("hi clover!");
            };
        </script>
    </head>
    <body>
        <script >
        // 把類陣列轉成陣列，在下面用來把arguments物件轉成真正的陣列。
        function array(a, n){return Array.prototype.slice.call(a, n || 0);}

        // 這個函式的引數是從左方傳入
        function partialLeft(f /*...*/)
        {
            var args = arguments;
            return function(){
                var a = array(args,1);
                console.log(a.toString());
                a = a.concat(array(arguments));
                return f.apply(this, a);
            };
        }

        // 這個函式的引數是從右方傳入
        function partialRight(f /*...*/)
        {
            var args = arguments;
            return function(){
                var a = array(arguments);
                a = a.concat(array(args,1));
                return f.apply(this,a);
            };
        }

        // 這個函式的引數作為範本之用。引數列中的undefined值使用內層的值來填補。
        function partial(f /*...*/)
        {
            var args = arguments;
            return function(){
                var a = array(args, 1);     //從外層引數的陣列開始
                var i = 0 , j = 0;
                //逐一查看這些引數，使用來自內層的值填補undefined值
                for(;i < a.length; i++)
                    if (a[i] === undefined) a[i] = arguments[j++];
                // 現在附加任何剩下的內層引數
                a = a.concat(array(arguments, j));
                return f.apply(this, a);
            };
        }

        var f = function(x,y,z){return x*(y-z);};

        partialLeft(f,2)(3,4);
        partialRight(f,2)(3,4);
        partial(f, undefined, 2)(3,4);

        </script>
        <button id="mybutton">Click me</button>
        <script>
            var b = document.getElementById("mybutton");
            // b.onclick = function(){ alert("Thank you for click me."); };
            // b.addEventListener("click", function(){ alert("Thanks againe.");}, false);
            b.onclick = function(){ console.log("Thank you for click me."); };
            b.addEventListener("click", function(){ console.log("Thanks againe.");}, false);
            b.addEventListener("click", function(){ console.log("HAHAHAHA.");}, false);

        </script>
        <script src="getScrollOffsets.js"></script>    <!-- drag() 需要這個 -->
        <script src="Dragjs"></script>                      <!-- 定義 drag() -->
        <!-- 要被拖拉的元素 -->
        <div style="position:absolute; left:100px; top:100px; width:250px; background-color:#69a0d6; border:solid black;">
                <!-- 用來拖拉的 titlebar  注意其onmousedown屬性 -->
                <div style="background-color:gray; border-bottom: dotted black; padding:3px; font-family:sans-serif; font-weight:bold;" onmousedown="drag(this.parentNode, event);">
                    Drag Me <!-- titlebar 內容 -->
                </div>
        <!-- 可拖拉元素內容 -->
                <p>
                    This is a test. Testing, testing, testing.
                </p>
                <p>
                    Clover
                </p>
                <p>
                    WOW
                </p>
        </div>

        <div >
            <ul >
                <li>Clover</li>
                <li>
                    HHHSSSCCC
                </li>
                <li>
                    KKKKKKKKKKKKK
                </li>
                <li>
                    JJJJJJJJJJJJJJJ
                </li>
            </ul>
        </div>
        <script>
            var fade = function(node){
                var level =1 ;
                var step = function(){
                    var hex = level.toString(16);
                    node.style.backgroundColor = '#FFFF' + hex + hex;
                    if(level < 15)
                    {
                        level += 1;
                        setTimeout(step,1000);
                    }
                };
                setTimeout(step, 1000);
            };

            fade(document.body);
        </script>
    </body>
</html>
